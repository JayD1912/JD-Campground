<% layout ('layouts/boilerplate') %> 

<div id="cluster-map" ></div>
    
    
    <ul>
    <div class="my-5 text-center">
        <h1 >Campgrounds</h1>
    </div>
    <% for (let camp of campground) { %>
        <div class="card mb-3">
            <div class="row">
                <div class="col-md-4">
                    <% if(camp.images.length) { %> 
                    <img class="img-fluid" src="<%= camp.images[0].url %> " alt="">
                    <% }else{  %>
                    <img class="img-fluid" src="https://res.cloudinary.com/jay1912/image/upload/v1626364741/YelpCamp/g0q2zlt2luyko67fzgdw.jpg" alt=""> 
                    <%}  %> 
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                        <h2 class="card-title">
                            <%= camp.title %> 
                        </h2>
                        <p class="card-text">
                            <%= camp.description %> 
                        </p>
                        <p>
                            <small class="text-muted"><%= camp.location %> </small>
                        </p>
                        <a class="btn btn-primary " href="/campground/<%= camp._id %> ">Visit</a>
                    </div>

                </div>
            </div>
        </div>
    <% } %> 
    </ul> 


    <script>
        const mapToken ='<%- process.env.MAPBOX_TOKEN %>'
        const campground ={features: <%-JSON.stringify(campground) %>}
      </script>

    <script src="/javascripts/clusterMap.js"></script>
